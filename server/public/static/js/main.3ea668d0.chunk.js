(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,o){t.exports=o(17)},16:function(t,e,o){},17:function(t,e,o){"use strict";o.r(e);var n=o(0),a=o.n(n),r=o(7),c=o.n(r),s=(o(16),o(9)),i=o(1),l=o(2),d=o(4),u=o(3),h=o(5),m=o(8),p=function(t){function e(){var t,o;Object(i.a)(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=Object(d.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(a)))).state={title:""},o.handleChange=function(t){o.setState(Object(m.a)({},t.target.name,t.target.value))},o.onKeyPress=function(t){if("Enter"===t.key){var e={id:window.uuid.v4(),title:o.state.title,status:"pending"};o.props.addNewToDo(e),o.setState({title:""})}},o}return Object(h.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return a.a.createElement("input",{className:"new-todo",placeholder:"What needs to be done?",name:"title",value:this.state.title,autoFocus:!0,autoComplete:"off",onKeyPress:this.onKeyPress,onChange:this.handleChange})}}]),e}(n.Component);var f=function(t){return a.a.createElement("li",{className:"pending"===t.todo.status?"todo":"todo completed",key:t.todo.id},a.a.createElement("div",{className:"view"},a.a.createElement("input",{className:"toggle",type:"checkbox"}),a.a.createElement("label",{onClick:function(){t.changeToDoStatus(t.todo.id)}},t.todo.title),a.a.createElement("button",{className:"destroy",onClick:function(){t.removeToDo(t.todo.id)}})))};var g=function(t){return a.a.createElement("section",{className:"main"},a.a.createElement("ul",{className:"todo-list"},t.todos.map(function(e){return a.a.createElement(f,{key:e.id,todo:e,removeToDo:t.removeToDo,changeToDoStatus:t.changeToDoStatus})})))};var v=function(t){return a.a.createElement("footer",{className:"footer"},a.a.createElement("span",{className:"todo-count"},a.a.createElement("strong",null,t.pendingToDo)," ",t.pendingToDo<1?"item":"items"," left"))},T="http://localhost:3003/api/todo";function y(t){if(t.status>=200&&t.status<300)return t;var e=new Error("HTTP Error ".concat(t.statusText));throw e.status=t.statusText,e.response=t,console.log(e),e}function w(t){return t.json()}var D=function(t){function e(){var t,o;Object(i.a)(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=Object(d.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(a)))).state={todos:[]},o.loadToDoFromServer=function(){var t;t=function(t){o.setState({todos:t})},fetch("".concat(T),{headers:{Accept:"application/json"}}).then(y).then(w).then(t)},o.addNewToDo=function(t){var e,n=[].concat(Object(s.a)(o.state.todos),[t]);o.setState({todos:n}),e=t,fetch("".concat(T),{method:"post",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(y)},o.removeToDo=function(t){var e,n=o.state.todos.filter(function(e){return e.id!==t});o.setState({todos:n}),e={id:t},fetch("".concat(T),{method:"delete",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(y)},o.changeToDoStatus=function(t){var e=o.state.todos.map(function(e){if(e.id===t){var o=Object.assign({},e,{status:"pending"===e.status?"completed":"pending"});return n=o,fetch("".concat(T),{method:"put",body:JSON.stringify(n),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(y),o}return e;var n});o.setState({todos:e})},o.getToDoPending=function(){return o.state.todos.filter(function(t){return"pending"===t.status}).length},o}return Object(h.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.loadToDoFromServer()}},{key:"render",value:function(){return a.a.createElement("section",{className:"todoapp"},a.a.createElement("header",{className:"header"},a.a.createElement("h1",null,"todos"),a.a.createElement(p,{addNewToDo:this.addNewToDo}),a.a.createElement(g,{todos:this.state.todos,removeToDo:this.removeToDo,changeToDoStatus:this.changeToDoStatus}),a.a.createElement(v,{pendingToDo:this.getToDoPending()})))}}]),e}(n.Component);var E=function(){return a.a.createElement(D,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.3ea668d0.chunk.js.map